{"version":3,"sources":["modules/main.ts","components/atoms/tagLabel/index.tsx","components/atoms/checkbox/index.tsx","components/molecules/editLabel/index.tsx","components/molecules/edit/index.tsx","containers/organisms/memo/view.tsx","hooks/useApi.tsx","graphql/client.ts","environment/index.ts","graphql/api/post.ts","containers/organisms/memo/index.tsx","components/molecules/card/index.tsx","components/molecules/editModal/index.tsx","containers/organisms/cardList/view.tsx","graphql/api/editpost.ts","modules/ui.ts","containers/organisms/cardList/index.tsx","components/atoms/searchbar/index.tsx","components/molecules/header/index.tsx","components/atoms/tagButton/index.tsx","components/molecules/labelList/index.tsx","containers/organisms/layout/index.tsx","containers/pages/home/view.tsx","graphql/api/allpost.ts","containers/pages/home/index.tsx","serviceWorker.ts","modules/user.ts","modules/middleware/persist.ts","modules/createStore.ts","components/molecules/accountForm/index.tsx","graphql/api/login.ts","containers/organisms/login/index.tsx","containers/pages/Login.tsx","graphql/api/signup.ts","containers/organisms/signup/index.tsx","containers/pages/Signup.tsx","index.tsx"],"names":["initialState","posts","doPost","post","type","payload","TagLabelAtom","_ref","label","react_default","a","createElement","style","borderRadius","backgroundColor","padding","paddingLeft","paddingRight","margin","display","fontSize","CheckboxAtom","onChange","index_es","_onChange","_x","_x2","apply","this","arguments","toString","_","checked","EditLabelMol","tagList","selected","unSelected","_useObject","useObject","newTag","state","setState","useEffect","prev","Array","from","Set","concat","Object","toConsumableArray","placeholder","e","target","value","onKeyPress","ev","key","map","tag","atoms_checkbox","b","title","text","editLabel","EditMol","onEdited","menus","initial","allTag","onClose","console","log","boxShadow","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","gridArea","width","justifyContent","icons_index_es","multiline","rows","rowsMax","paddingBottom","overflowY","tagLabel","height","onClick","length","v","filter","MemoView","onSubmit","_useState","useState","_useState2","slicedToArray","open","setOpen","edit","useApi","promise","loading","setLoading","_useState3","_useState4","error","setError","fetch","asyncToGenerator","regenerator_default","mark","_callee","p","res","wrap","_context","next","t0","sent","undefined","abrupt","stop","GraphQLClient","_this","classCallCheck","httpLink","query","variables","op","result","_args","makePromise","execute","data","HttpLink","uri","graphqlClient","obj","memo","JSON","stringify","gql","_templateObject","token","catch","createMemo","time","code","postApi","connect","objectSpread","main","user","dispatch","session","_useApi","PostApi","flatMap","_ref2","moment","Date","now","utc","unix","Math","random","_x3","view","CardMol","card","onRemove","modal","onMouseEnter","onMouseLeave","overflow","fontWeight","marginTop","wordWrap","paddingTop","EditModalMol","alignItems","maxWidth","CardListView","searchWord","viewTag","react_masonry_component_lib_default","options","fitWidth","columnWidth","i","includes","visible","molecules_card","_onRemove","close","editModal","editpost_templateObject","memoCode","editMemo","editpostApi","ActionName","ui","changed","newTime","doChange","cardList_view","hash","SearchBarAtom","input","marginLeft","marginRight","color","HeaderMol","drawer","enterSearch","account","position","variant","searchbar","TagButtonAtom","_onClick","LabelListMol","labels","resetAll","tagButton","doSetViewTag","SET_VIEWTAG","doSetSearch","_callee2","search","_context2","SET_SEARCH","_x4","withRouter","children","history","name","minHeight","header","word","labelList","push","HomeView","layout","organisms_memo","cardList","allpost_templateObject","getAllMemo","memos","split","allPostApi","init","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_iterator","_step","exist","find","Number","Symbol","iterator","done","delegateYield","t1","return","finish","forEach","home_view","Boolean","window","location","hostname","match","doLogin","localforage","config","driver","INDEXEDDB","keyList","persist","getState","action","returnValue","_arr","_i","_key","keys","setItem","rootReducer","combineReducers","AccoutFormMol","setName","pass","setPass","flexDirection","UserWebApi","getMe","login_templateObject","password","getUser","accountForm","organisms_login","signUpApi","signup_templateObject","createUser","organisms_signup","store","reduxCreateStore","applyMiddleware","logger","ReactDOM","render","es","HashRouter","Route","exact","path","component","App","Login","Signup","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.48a22cab.chunk.js","sourcesContent":["export interface Post {\n  time: string;\n  code: string;\n  title: string;\n  text: string;\n  tag: string[];\n}\n\nexport interface State {\n  posts: Post[];\n}\n\nconst initialState: State = { posts: [] };\n\nexport const doPost = (post: Post) => {\n  return { type: \"MAIN_POST\" as \"MAIN_POST\", payload: post };\n};\n\nexport const doRemove = (code: string) => {\n  return { type: \"MAIN_REMOVE\" as \"MAIN_REMOVE\", payload: code };\n};\n\nexport const doChange = (post: Post, newTime?: string) => {\n  return {\n    type: \"MAIN_CHANGE\" as \"MAIN_CHANGE\",\n    payload: { post, newTime }\n  };\n};\n\ntype Actions =\n  | ReturnType<typeof doPost>\n  | ReturnType<typeof doRemove>\n  | ReturnType<typeof doChange>;\n\nexport default function reducer(state = initialState, action: Actions) {\n  switch (action.type) {\n    case \"MAIN_POST\": {\n      action.payload.tag = action.payload.tag.filter(v => v !== \"\");\n      return { ...state, posts: state.posts.concat(action.payload) } as State;\n    }\n    case \"MAIN_REMOVE\": {\n      return {\n        ...state,\n        posts: state.posts.filter(v => {\n          if (v.time !== action.payload) return v;\n        })\n      } as State;\n    }\n    case \"MAIN_CHANGE\": {\n      const next = state.posts.map(post => {\n        if (post.time === action.payload.post.time) {\n          const post = action.payload.post;\n          if (action.payload.newTime) {\n            post.time = action.payload.newTime;\n          }\n          post.tag = post.tag.filter(v => v !== \"\");\n          return post;\n        } else return post;\n      });\n      return { ...state, posts: next } as State;\n    }\n\n    default:\n      return state;\n  }\n}\n","import React, { FunctionComponent } from \"react\";\n\nconst TagLabelAtom: FunctionComponent<{ label: string }> = ({ label }) => {\n  return (\n    <div\n      style={{\n        borderRadius: 10,\n        backgroundColor: \"#EBEBEB\",\n        padding: 5,\n        paddingLeft: 10,\n        paddingRight: 10,\n        margin: 5,\n        display: \"inline-block\",\n        fontSize: 11\n      }}\n    >\n      {label}\n    </div>\n  );\n};\n\nexport default TagLabelAtom;\n","import React, { FunctionComponent } from \"react\";\nimport { Checkbox } from \"@material-ui/core\";\n\nconst CheckboxAtom: FunctionComponent<{\n  onChange: (b: boolean) => void;\n  label: string;\n  style?: React.CSSProperties;\n}> = ({ onChange, label, style }) => {\n  return (\n    <div style={style}>\n      <Checkbox\n        onChange={(_, checked) => {\n          onChange(checked);\n        }}\n      />\n      {label}\n    </div>\n  );\n};\n\nexport default CheckboxAtom;\n","import React, { FunctionComponent, useEffect } from \"react\";\nimport { InputBase } from \"@material-ui/core\";\n\nimport CheckboxAtom from \"../../atoms/checkbox\";\nimport useObject from \"useobject\";\n\nconst EditLabelMol: FunctionComponent<{\n  tagList: string[];\n  selected: (tag: string) => void;\n  unSelected?: (tag: string) => void;\n}> = ({ tagList, selected, unSelected }) => {\n  const { state, setState } = useObject({\n    tagList: [] as string[],\n    newTag: \"\"\n  });\n\n  useEffect(() => {\n    setState(prev => {\n      return { tagList: Array.from(new Set([...tagList, ...prev.tagList])) };\n    });\n  }, [tagList]);\n\n  return (\n    <div>\n      <InputBase\n        placeholder=\"input label\"\n        onChange={e => setState({ newTag: e.target.value })}\n        value={state.newTag}\n        onKeyPress={ev => {\n          if (ev.key === \"Enter\") {\n            setState(prev => {\n              return {\n                tagList: Array.from(new Set([prev.newTag, ...prev.tagList])),\n                newTag: \"\"\n              };\n            });\n          }\n        }}\n        style={{ padding: 10 }}\n      />\n      <div style={{ display: \"flex\" }}>\n        {state.tagList.map(tag => (\n          <CheckboxAtom\n            label={tag}\n            onChange={b => {\n              if (b) {\n                selected(tag);\n              } else {\n                if (unSelected) unSelected(tag);\n              }\n            }}\n            key={tag}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default EditLabelMol;\n","import React, { FunctionComponent, useEffect } from \"react\";\nimport { InputBase, Button, IconButton } from \"@material-ui/core\";\nimport useObject from \"useobject\";\nimport { Star, More } from \"@material-ui/icons\";\nimport TagLabelAtom from \"../../atoms/tagLabel\";\nimport EditLabelMol from \"../editLabel\";\n\nexport interface EditInput {\n  title: string;\n  text: string;\n  tag: string[];\n}\n\nconst initialState = {\n  title: \"\",\n  text: \"\",\n  tag: [] as string[],\n  editLabel: false\n};\n\nexport interface Props {\n  onEdited: (input: EditInput) => void;\n  onClose: () => void;\n  menus?: () => any;\n  allTag: string[];\n  initial?: { title: string; text: string; tag: string[] };\n}\n\nconst EditMol: FunctionComponent<Props> = ({\n  onEdited,\n  menus,\n  initial,\n  allTag,\n  onClose\n}) => {\n  const { state, setState } = useObject(initialState);\n\n  useEffect(() => {\n    console.log({ initial });\n    if (initial) {\n      const { title, text, tag } = initial;\n      setState({ title, text, tag });\n    }\n  }, [initial]);\n\n  return (\n    <div\n      style={{\n        borderRadius: 5,\n        boxShadow: \"0 0 4px gray\",\n        display: \"grid\",\n        gridTemplateColumns: \"1.6fr 0.2fr\",\n        gridTemplateRows: \"auto auto auto auto auto\",\n        gridTemplateAreas: `\"title star\" \"text text\" \"tag tag\" \"menu close\" \"option option\"`\n      }}\n    >\n      <div style={{ gridArea: \"title\" }}>\n        <InputBase\n          placeholder=\"title\"\n          style={{\n            width: \"100%\",\n            padding: 10\n          }}\n          onChange={e => setState({ title: e.target.value })}\n          value={state.title}\n        />\n      </div>\n      <div\n        style={{\n          gridArea: \"star\",\n          display: \"flex\",\n          justifyContent: \"flex-end\"\n        }}\n      >\n        <IconButton>\n          <Star />\n        </IconButton>\n      </div>\n      <div style={{ gridArea: \"text\" }}>\n        <InputBase\n          placeholder=\"input\"\n          multiline\n          rows={2}\n          rowsMax={30}\n          style={{\n            width: \"97%\",\n            padding: 10,\n            paddingBottom: 20,\n            overflowY: \"auto\"\n          }}\n          onChange={e => setState({ text: e.target.value })}\n          value={state.text}\n        />\n      </div>\n      <div style={{ gridArea: \"tag\" }}>\n        {state.tag.map(label => (\n          <TagLabelAtom label={label} key={label} />\n        ))}\n      </div>\n      <div style={{ gridArea: \"menu\", display: \"flex\" }}>\n        <IconButton\n          style={{ width: 50, height: 50 }}\n          onClick={() =>\n            setState(prev => {\n              return { editLabel: !prev.editLabel };\n            })\n          }\n        >\n          <More />\n        </IconButton>\n        {menus && menus()}\n      </div>\n      <div style={{ gridArea: \"close\" }}>\n        <Button\n          onClick={() => {\n            if (state.text.length > 0 || state.title.length > 0) {\n              onEdited(state);\n              setState(initialState);\n            }\n            onClose();\n          }}\n        >\n          close\n        </Button>\n      </div>\n      <div style={{ gridArea: \"option\", display: \"flex\" }}>\n        {state.editLabel && (\n          <EditLabelMol\n            tagList={allTag}\n            selected={v =>\n              setState(prev => {\n                return { tag: prev.tag.concat(v) };\n              })\n            }\n            unSelected={v =>\n              setState(prev => {\n                const next = prev.tag.filter(label => {\n                  if (label !== v) return label;\n                });\n                return { tag: next };\n              })\n            }\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EditMol;\n","import React, { FC, useState } from \"react\";\nimport EditMol from \"../../../components/molecules/edit\";\nimport { Typography } from \"@material-ui/core\";\n\ntype Props = {\n  onSubmit: (title: string, text: string, tag: string[]) => void;\n  allTag: string[];\n};\n\nconst MemoView: FC<Props> = ({ onSubmit, allTag }) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div>\n      {open ? (\n        <EditMol\n          onEdited={e => {\n            const { text, title, tag } = e;\n            if (text.length > 0 || title.length > 0) {\n              onSubmit(title, text, tag);\n            }\n            setOpen(false);\n          }}\n          initial={{ title: \"\", text: \"\", tag: [] }}\n          allTag={allTag}\n          onClose={() => setOpen(false)}\n        />\n      ) : (\n        <div\n          style={{\n            display: \"flex\",\n            borderRadius: 5,\n            boxShadow: \"0 0 4px gray\"\n          }}\n          onClick={() => setOpen(true)}\n        >\n          <Typography style={{ padding: 10 }}>{\"メモを入力...\"}</Typography>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MemoView;\n","import { useState } from \"react\";\n\ntype Head<T extends any[], D = never> = T extends [infer X, ...any[]] ? X : D;\n\nexport function useApi<T, A>(promise: (obj: A) => Promise<T>) {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const fetch = async (p: Head<Parameters<typeof promise>>) => {\n    setLoading(true);\n    const res = p ? await promise(p as any) : await promise(undefined as any);\n    if (!res) setError(true);\n\n    setLoading(false);\n    return res;\n  };\n  return { loading, fetch, error };\n}\n","import { execute, makePromise, GraphQLRequest } from \"apollo-link\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { gqlUrl } from \"../environment\";\n\nclass GraphQLClient {\n  private httpLink: HttpLink;\n\n  constructor() {\n    this.httpLink = new HttpLink({ uri: gqlUrl });\n  }\n\n  query = async (query: any, variables: Record<string, any> = {}) => {\n    const op: GraphQLRequest = { query, variables };\n    try {\n      const result = await makePromise(execute(this.httpLink, op));\n\n      return result.data;\n    } catch (err) {\n      throw err;\n    }\n  };\n}\n\nexport default GraphQLClient;\n","export const gqlUrl =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://echosome.tk:1333/query\"\n    : \"https://localhost:1333/query\";\n","import gql from \"graphql-tag\";\nimport GraphQLClient from \"../client\";\nimport { NewMemo, Memo } from \"../generated/graphql\";\n\nconst graphqlClient: GraphQLClient = new GraphQLClient();\nasync function postApi(obj: NewMemo) {\n  console.log(JSON.stringify(obj.tag));\n  const result = await graphqlClient\n    .query(\n      gql`\n        mutation createMemo {\n          createMemo(\n            input: {\n              token: \"${obj.token}\"\n              title: \"${obj.title}\"\n              text: \"${obj.text}\"\n              tag:${JSON.stringify(obj.tag)}\n            }\n          ) {\n            time\n            code\n          }\n        }\n      `\n    )\n    .catch();\n\n  if (result.createMemo) {\n    const memo = result.createMemo as Memo;\n    return {\n      time: memo.time,\n      code: memo.code\n    };\n  }\n\n  return undefined;\n}\n\nexport default postApi;\n","import React, { FunctionComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ReduxState } from \"../../../modules/createStore\";\nimport { Dispatch } from \"redux\";\nimport { doPost, State } from \"../../../modules/main\";\nimport { StateUser } from \"../../../modules/user\";\nimport MemoView from \"./view\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport PostApi from \"../../../graphql/api/post\";\nimport moment from \"moment\";\n\ninterface Props extends State, StateUser {\n  dispatch: Dispatch<any>;\n}\n\nconst MemoOrg: FunctionComponent<Props> = ({ dispatch, posts, session }) => {\n  const { loading, fetch, error } = useApi(PostApi);\n\n  const allTag: string[] = posts.flatMap(post => {\n    if (post.tag.length > 0) return post.tag;\n    else return [] as string[];\n  });\n\n  const onSubmit = async (title: string, text: string, tag: string[]) => {\n    if (!loading) {\n      let time = moment(Date.now())\n        .utc()\n        .unix()\n        .toString();\n      let code = Math.random().toString();\n      if (session) {\n        const res = await fetch({ title, text, token: session, tag });\n        if (res) {\n          time = res.time;\n          code = res.code;\n        }\n      }\n      dispatch(doPost({ title, text, tag, time, code }));\n    }\n  };\n\n  return <MemoView onSubmit={onSubmit} allTag={allTag} />;\n};\n\nexport default connect((state: ReduxState) => {\n  return { ...state.main, ...state.user };\n})(MemoOrg);\n","import React, { FunctionComponent } from \"react\";\nimport useObject from \"useobject\";\nimport { Star, MoreVert, Delete, More } from \"@material-ui/icons\";\nimport { IconButton } from \"@material-ui/core\";\nimport TagLabelAtom from \"../../atoms/tagLabel\";\nimport { Post } from \"../../../modules/main\";\n\nconst display = (open: boolean) => (open ? \"\" : \"none\");\n\nconst CardMol: FunctionComponent<{\n  card: Post;\n  onRemove: () => void;\n  modal: (open: boolean, close: () => void, card: Post) => any;\n}> = ({ card, onRemove, modal }) => {\n  const { state, setState } = useObject({ open: false, modal: false });\n  const { title, text, tag } = card;\n\n  return (\n    <div>\n      {modal(state.modal, () => setState({ modal: false }), card)}\n      <div\n        style={{\n          borderRadius: 5,\n          boxShadow: \"0 0 1px gray\",\n          padding: 5,\n          paddingLeft: 20\n        }}\n        onMouseEnter={() => setState({ open: true })}\n        onMouseLeave={() => setState({ open: false })}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            display: \"grid\",\n            gridTemplateColumns: \"1.7fr 0.3fr\",\n            gridTemplateRows: \"auto auto auto auto\",\n            gridTemplateAreas: `\"title star\" \"text text\" \"tag tag\" \"menu menu\"`\n          }}\n        >\n          <div style={{ gridArea: \"title\", overflow: \"hidden\" }}>\n            <div style={{ fontWeight: \"bold\", marginTop: 10 }}>{title}</div>\n          </div>\n          <div\n            style={{ gridArea: \"text\" }}\n            onClick={() => {\n              setState({ modal: true });\n            }}\n          >\n            <div style={{ wordWrap: \"break-word\" }}>{text}</div>\n          </div>\n          <div\n            style={{\n              gridArea: \"star\",\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              height: 50\n            }}\n          >\n            {state.open && (\n              <IconButton style={{ width: 50 }}>\n                <Star />\n              </IconButton>\n            )}\n          </div>\n          {tag.length > 0 && (\n            <div style={{ gridArea: \"tag\", paddingTop: 10 }}>\n              {tag\n                .filter(label => label !== \"\")\n                .map(label => (\n                  <TagLabelAtom label={label} key={label} />\n                ))}\n            </div>\n          )}\n          <div\n            style={{\n              gridArea: \"menu\",\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              marginTop: \"auto\",\n              height: 50\n            }}\n          >\n            <div style={{ display: display(state.open) }}>\n              <IconButton style={{ width: 50 }} onClick={() => onRemove()}>\n                <Delete />\n              </IconButton>\n              <IconButton style={{ width: 50 }}>\n                <More />\n              </IconButton>\n              <IconButton style={{ width: 50 }}>\n                <MoreVert />\n              </IconButton>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardMol;\n","import React, { FunctionComponent } from \"react\";\nimport { Modal } from \"@material-ui/core\";\nimport EditMol, { Props as EditMolProps } from \"../edit\";\n\ninterface Props extends EditMolProps {\n  open: boolean;\n}\n\nconst EditModalMol: FunctionComponent<Props> = ({\n  open,\n  initial,\n  onEdited,\n  allTag,\n  menus,\n  onClose\n}) => {\n  return (\n    <Modal open={open}>\n      <div\n        style={{\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <div style={{ width: 600, maxWidth: \"90vw\", backgroundColor: \"white\" }}>\n          <EditMol\n            onEdited={onEdited}\n            initial={initial}\n            allTag={allTag}\n            menus={menus}\n            onClose={onClose}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default EditModalMol;\n","import React, { FC } from \"react\";\nimport Masonry from \"react-masonry-component\";\nimport CardMol from \"../../../components/molecules/card\";\nimport EditModalMol from \"../../../components/molecules/editModal\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport { Post } from \"../../../modules/main\";\n\nexport interface Props {\n  posts: Post[];\n  searchWord: string;\n  viewTag: string;\n  onRemove: (hash: string) => void;\n  onChange: (changed: Post) => void;\n}\n\nconst CardListView: FC<Props> = ({\n  posts,\n  searchWord,\n  viewTag,\n  onRemove,\n  onChange\n}) => {\n  const allTag: string[] = posts.flatMap(post => {\n    if (post.tag.length > 0) return post.tag;\n    else return [] as string[];\n  });\n\n  const visible = (card: Post) => {\n    if (searchWord.length > 0)\n      if (card.text.includes(searchWord) || card.title.includes(searchWord)) {\n        console.log(1, searchWord);\n        return true;\n      }\n    if (viewTag && card.tag.includes(viewTag)) {\n      console.log(2);\n      return true;\n    }\n    if (!(searchWord.length > 0) && !viewTag) {\n      console.log(3);\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <Masonry options={{ fitWidth: true, columnWidth: 350 }}>\n        {posts.map((card, i) => {\n          if (visible(card))\n            return (\n              <div style={{ width: 350, maxWidth: \"90vw\" }} key={i}>\n                <div style={{ padding: 10 }}>\n                  <CardMol\n                    card={card}\n                    onRemove={() => onRemove(card.time)}\n                    modal={(open, close, card) => {\n                      const { title, text, time, tag, code } = card;\n                      return (\n                        <EditModalMol\n                          open={open}\n                          onEdited={v => {\n                            const { title, text, tag } = v;\n                            onChange({\n                              code,\n                              time,\n                              title,\n                              text,\n                              tag\n                            });\n                            close();\n                          }}\n                          onClose={() => close()}\n                          initial={{ title, text, tag }}\n                          allTag={allTag}\n                          menus={() => (\n                            <div>\n                              <IconButton\n                                onClick={() => {\n                                  onRemove(card.time);\n                                  close();\n                                }}\n                              >\n                                <Delete />\n                              </IconButton>\n                            </div>\n                          )}\n                        />\n                      );\n                    }}\n                  />\n                </div>\n              </div>\n            );\n        })}\n      </Masonry>\n    </div>\n  );\n};\n\nexport default CardListView;\n","import gql from \"graphql-tag\";\nimport GraphQLClient from \"../client\";\nimport { Memo, EditMemo } from \"../generated/graphql\";\n\nconst graphqlClient: GraphQLClient = new GraphQLClient();\n\nasync function editpostApi(obj: EditMemo) {\n  console.log(JSON.stringify(obj.tag));\n  const result = await graphqlClient\n    .query(\n      gql`\n        mutation EditMemo {\n          editMemo(\n            input: {\n              memoCode: \"${obj.memoCode}\"\n              token: \"${obj.token}\"\n              title: \"${obj.title}\"\n              text: \"${obj.text}\"\n              tag: ${JSON.stringify(obj.tag)}\n            }\n          ) {\n            time\n          }\n        }\n      `\n    )\n    .catch();\n\n  if (result.editMemo) {\n    const memo = result.editMemo as Memo;\n    return {\n      time: memo.time\n    };\n  }\n\n  return undefined;\n}\n\nexport default editpostApi;\n","import { Action, Dispatch } from \"redux\";\n\nexport interface StateUi {\n  viewTag: string;\n  searchWord: string;\n}\n\nconst initialState: StateUi = { viewTag: \"\", searchWord: \"\" };\n\nenum ActionName {\n  SET_VIEWTAG = \"UI_SET_VIEWTAG\",\n  SET_SEARCH = \"UI_SET_SEARCH\"\n}\n\ninterface SetViewTagAction extends Action {\n  type: ActionName.SET_VIEWTAG;\n  payload: string | undefined;\n}\n\nexport const doSetViewTag = async (\n  tag: string | undefined,\n  dispatch: Dispatch<SetViewTagAction>\n) => {\n  dispatch({ type: ActionName.SET_VIEWTAG, payload: tag });\n};\n\ninterface SetSearchAction extends Action {\n  type: ActionName.SET_SEARCH;\n  payload: string | undefined;\n}\n\nexport const doSetSearch = async (\n  search: string | undefined,\n  dispatch: Dispatch<SetSearchAction>\n) => {\n  dispatch({ type: ActionName.SET_SEARCH, payload: search });\n};\n\ntype Actions = SetViewTagAction | SetSearchAction;\n\nexport default function reducer(state = initialState, action: Actions) {\n  switch (action.type) {\n    case ActionName.SET_VIEWTAG: {\n      return { ...state, viewTag: action.payload } as StateUi;\n    }\n    case ActionName.SET_SEARCH: {\n      return { ...state, searchWord: action.payload } as StateUi;\n    }\n    default:\n      return state;\n  }\n}\n","import React, { FunctionComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ReduxState } from \"../../../modules/createStore\";\nimport { State, doRemove, doChange, Post } from \"../../../modules/main\";\nimport { Dispatch } from \"redux\";\nimport { StateUi } from \"../../../modules/ui\";\nimport CardListView from \"./view\";\nimport { StateUser } from \"../../../modules/user\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport editpostApi from \"../../../graphql/api/editpost\";\n\ninterface Props extends State, StateUi, StateUser {\n  dispatch: Dispatch<any>;\n}\n\nconst CardListOrg: FunctionComponent<Props> = ({\n  posts,\n  dispatch,\n  viewTag,\n  searchWord,\n  session\n}) => {\n  const { loading, fetch } = useApi(editpostApi);\n\n  const editMemo = async (changed: Post) => {\n    if (session) {\n      if (!loading) {\n        await fetch({ memoCode: changed.code, token: session, ...changed });\n      }\n    }\n    dispatch(doChange(changed));\n  };\n\n  return (\n    <CardListView\n      posts={posts}\n      searchWord={searchWord}\n      viewTag={viewTag}\n      onRemove={hash => dispatch(doRemove(hash))}\n      onChange={editMemo}\n    />\n  );\n};\n\nexport default connect((state: ReduxState) => {\n  return { ...state.main, ...state.ui, ...state.user };\n})(CardListOrg);\n","import React, { FunctionComponent } from \"react\";\nimport { Search, Close } from \"@material-ui/icons\";\nimport { InputBase, IconButton } from \"@material-ui/core\";\nimport useObject from \"useobject\";\n\nconst SearchBarAtom: FunctionComponent<{ onSubmit: (v: string) => void }> = ({\n  onSubmit\n}) => {\n  const { state, setState } = useObject({ input: \"\" });\n\n  return (\n    <div\n      style={{\n        marginLeft: 20,\n        borderRadius: 5,\n        backgroundColor: \"rgba(255,255,255,0.25)\",\n        marginRight: 10,\n        width: \"100%\",\n        display: \"flex\"\n      }}\n    >\n      <div\n        style={{\n          padding: 10,\n          height: \"100%\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        }}\n      >\n        <Search />\n      </div>\n      <InputBase\n        placeholder=\"Search…\"\n        style={{\n          color: \"inherit\",\n          width: \"100%\",\n          padding: 5,\n          paddingLeft: 10\n        }}\n        onChange={e => {\n          setState({ input: e.target.value });\n          onSubmit(e.target.value);\n        }}\n        value={state.input}\n      />\n      {state.input.length > 0 && (\n        <IconButton\n          onClick={() => {\n            setState({ input: \"\" });\n            onSubmit(\"\");\n          }}\n        >\n          <Close />\n        </IconButton>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBarAtom;\n","import React, { FunctionComponent } from \"react\";\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Drawer,\n  Button\n} from \"@material-ui/core\";\nimport { Menu } from \"@material-ui/icons\";\nimport SearchBarAtom from \"../../atoms/searchbar\";\nimport useObject from \"useobject\";\n\nconst HeaderMol: FunctionComponent<{\n  enterSearch: (v: string) => void;\n  drawer: (close: () => void) => any;\n  account: () => any;\n}> = ({ drawer, enterSearch, account }) => {\n  const { state, setState } = useObject({ open: false });\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton color=\"inherit\" onClick={() => setState({ open: true })}>\n            <Menu />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\">\n            keep\n          </Typography>\n          <SearchBarAtom onSubmit={enterSearch} />\n          <div>{account()}</div>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={state.open} onClose={() => setState({ open: false })}>\n        {drawer(() => setState({ open: false }))}\n      </Drawer>\n    </div>\n  );\n};\n\nexport default HeaderMol;\n","import React, { FunctionComponent } from \"react\";\nimport { Label } from \"@material-ui/icons\";\n\nconst TagButtonAtom: FunctionComponent<{\n  label: string;\n  onClick: (v: string) => void;\n}> = ({ label, onClick }) => {\n  return (\n    <li style={{ display: \"flex\", padding: 10 }} onClick={() => onClick(label)}>\n      <Label\n        style={{\n          paddingRight: 30,\n          color: \"gray\"\n        }}\n      />\n      {label}\n    </li>\n  );\n};\n\nexport default TagButtonAtom;\n","import React, { FunctionComponent } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { Edit } from \"@material-ui/icons\";\nimport TagButtonAtom from \"../../atoms/tagButton\";\n\nconst LabelListMol: FunctionComponent<{\n  labels: string[];\n  onClick: (v: string) => void;\n  resetAll: () => void;\n}> = ({ labels, onClick, resetAll }) => {\n  return (\n    <div style={{ width: 270 }}>\n      <Typography style={{ padding: 10 }}>label</Typography>\n      <TagButtonAtom label=\"all\" onClick={() => resetAll()} />\n      {labels\n        .filter(v => v !== \"\")\n        .map((label, i) => (\n          <TagButtonAtom label={label} onClick={onClick} key={i} />\n        ))}\n    </div>\n  );\n};\n\nexport default LabelListMol;\n","import React, { FunctionComponent } from \"react\";\nimport HeaderMol from \"../../../components/molecules/header\";\nimport LabelListMol from \"../../../components/molecules/labelList\";\nimport { connect } from \"react-redux\";\nimport { ReduxState } from \"../../../modules/createStore\";\nimport { State } from \"../../../modules/main\";\nimport { Dispatch } from \"redux\";\nimport { doSetSearch, doSetViewTag } from \"../../../modules/ui\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport { StateUser } from \"../../../modules/user\";\n\ninterface Props extends State, StateUser {\n  dispatch: Dispatch<any>;\n  history?: any;\n}\n\nconst LayoutOrg: FunctionComponent<Props> = ({\n  children,\n  posts,\n  dispatch,\n  history,\n  name\n}) => {\n  const allTag: string[] = Array.from(\n    new Set(\n      posts.flatMap(post => {\n        if (post.tag.length > 0) return post.tag;\n        else return [] as string[];\n      })\n    )\n  );\n  console.log({ allTag });\n  return (\n    <div style={{ minHeight: \"95vh\" }}>\n      <HeaderMol\n        enterSearch={word => {\n          doSetSearch(word, dispatch);\n        }}\n        drawer={close => (\n          <LabelListMol\n            labels={allTag}\n            onClick={tag => {\n              doSetViewTag(tag, dispatch);\n              close();\n            }}\n            resetAll={() => {\n              doSetViewTag(undefined, dispatch);\n              close();\n            }}\n          />\n        )}\n        account={() =>\n          name ? (\n            <Button\n              color=\"inherit\"\n              onClick={() => {\n                console.log({ history });\n                history.push(\"login\");\n              }}\n            >\n              {name}\n            </Button>\n          ) : (\n            <Button\n              color=\"inherit\"\n              onClick={() => {\n                console.log({ history });\n                history.push(\"login\");\n              }}\n            >\n              login\n            </Button>\n          )\n        }\n      />\n      {children}\n    </div>\n  );\n};\n\nexport default withRouter(connect((state: ReduxState) => {\n  return { ...state.main, ...state.user };\n})(LayoutOrg) as any);\n","import React, { FC } from \"react\";\nimport MemoOrg from \"../../organisms/memo\";\nimport CardListOrg from \"../../organisms/cardList\";\nimport LayoutOrg from \"../../organisms/layout\";\n\nconst HomeView: FC = () => {\n  return (\n    <LayoutOrg>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <div style={{ padding: 30, width: 600, maxWidth: \"90vw\" }}>\n          <MemoOrg />\n        </div>\n      </div>\n      <CardListOrg />\n    </LayoutOrg>\n  );\n};\n\nexport default HomeView","import gql from \"graphql-tag\";\nimport GraphQLClient from \"../client\";\nimport { Memo, GetAllMemo, AllMemo } from \"../generated/graphql\";\nimport { Post } from \"../../modules/main\";\n\nconst graphqlClient: GraphQLClient = new GraphQLClient();\n\nasync function allPostApi(obj: GetAllMemo) {\n  const result = await graphqlClient\n    .query(\n      gql`\n        query getAllMemo {\n          getAllMemo(\n            input: { token: \"${obj.token}\" }\n          ) {\n            memos {\n              owner\n              code\n              title\n              time\n              text\n              tag\n            }\n          }\n        }\n      `\n    )\n    .catch();\n\n  if (result.getAllMemo) {\n    const res = result.getAllMemo as AllMemo;\n    return res.memos\n      ? ((res.memos.map(memo => {\n          memo.tag = memo.tag.split(\",\") as any;\n          return memo;\n        }) as any) as Post[])\n      : undefined;\n  }\n\n  return undefined;\n}\n\nexport default allPostApi;\n","import React, { FunctionComponent, useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { ReduxState } from \"../../../modules/createStore\";\nimport { Dispatch } from \"redux\";\nimport { State, doPost } from \"../../../modules/main\";\nimport { StateUser } from \"../../../modules/user\";\nimport HomeView from \"./view\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport allPostApi from \"../../../graphql/api/allpost\";\nimport postApi from \"../../../graphql/api/post\";\n\ninterface Props extends State, StateUser {\n  dispatch: Dispatch;\n}\n\nconst Home: FunctionComponent<Props> = ({ posts, session, code, dispatch }) => {\n  const { loading, fetch } = useApi(allPostApi);\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const init = async () => {\n    if (session) {\n      if (!loading) {\n        const memos = await fetch({ token: session }).catch();\n        if (memos) {\n          // update\n          for (let post of posts) {\n            const exist = memos.find(memo => post.code === memo.code);\n            if (!exist) {\n              await postApi({ token: session, ...post });\n            } else {\n              if (Number(post.time) > Number(exist.time))\n                await postApi({ token: session, ...post });\n            }\n          }\n          // download\n          memos.forEach(memo => {\n            const exist = posts.find(post => post.code === memo.code);\n            if (!exist) {\n              dispatch(doPost(memo));\n            }\n          });\n        }\n      }\n    }\n  };\n\n  return <HomeView />;\n};\n\nexport default connect((state: ReduxState) => {\n  return { ...state.main, ...state.user };\n})(Home);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export interface StateUser {\n  name?: string;\n  session?: string;\n  code?: string;\n}\n\nconst initialState: StateUser = {};\n\nexport const doLogin = (name: string, session: string, code: string) => {\n  const type = \"UI_LOGIN\" as \"UI_LOGIN\";\n  return { type, payload: { name, session, code } };\n};\n\ntype Actions = ReturnType<typeof doLogin>;\n\nexport default function reducer(state = initialState, action: Actions) {\n  switch (action.type) {\n    case \"UI_LOGIN\": {\n      return {\n        ...state,\n        ...action.payload\n      } as StateUser;\n    }\n    default:\n      return state;\n  }\n}\n","import { MiddlewareAPI, Middleware, Dispatch, Store } from \"redux\";\nimport localforage from \"localforage\";\n\nlocalforage.config({ driver: localforage.INDEXEDDB });\n\nconst keyList: { [key: string]: boolean } = {};\n\nexport const persist = () => {\n  const loggerMiddleware: Middleware = ({ getState }: MiddlewareAPI) => (\n    next: Dispatch\n  ) => async action => {\n    const returnValue = next(action);\n\n    for (let key of Object.keys(getState())) {\n      console.log({ key });\n      keyList[key] = true;\n      await localforage.setItem(key, JSON.stringify(getState()[key]));\n    }\n\n    await localforage.setItem(\"root\", JSON.stringify(keyList));\n\n    console.log({ returnValue }, getState());\n\n    return returnValue;\n  };\n\n  return loggerMiddleware;\n};\n\ninterface Option {\n  whitelist: string[];\n}\n\nexport const loadPersist = async (store: Store, opt: Partial<Option> = {}) => {\n  try {\n    const root: any = await localforage.getItem(\"root\");\n    console.log({ root });\n    for (let key of Object.keys(JSON.parse(root))) {\n      console.log({ key });\n      try {\n        const state = store.getState()[key];\n        const value: any = await localforage.getItem(key);\n\n        console.log({ value });\n\n        if (opt.whitelist) {\n          if (opt.whitelist.includes(key))\n            store.getState()[key] = {\n              ...state,\n              ...JSON.parse(value)\n            };\n        } else {\n          store.getState()[key] = {\n            ...state,\n            ...JSON.parse(value)\n          };\n        }\n      } catch (error) {}\n    }\n  } catch (error) {}\n};\n","import {\n  createStore as reduxCreateStore,\n  applyMiddleware,\n  combineReducers\n} from \"redux\";\nimport logger from \"redux-logger\";\nimport main, { State } from \"./main\";\nimport ui, { StateUi } from \"./ui\";\nimport user, { StateUser } from \"./user\";\nimport { persist } from \"./middleware/persist\";\n\nconst rootReducer = combineReducers({\n  main,\n  ui,\n  user\n});\n\nexport default function createStore() {\n  const store = reduxCreateStore(\n    rootReducer,\n    applyMiddleware(logger, persist())\n  );\n  return { store };\n}\n\nexport interface ReduxState {\n  main: State;\n  ui: StateUi;\n  user: StateUser;\n}\n","import React, { FunctionComponent, useState } from \"react\";\nimport { TextField, Button, Typography } from \"@material-ui/core\";\n\nconst AccoutFormMol: FunctionComponent<{\n  type: string;\n  onSubmit: (name: string, pass: string) => void;\n}> = ({ type, onSubmit }) => {\n  const [name, setName] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  return (\n    <div\n      style={{\n        borderRadius: 5,\n        boxShadow: \"0 0 1px gray\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        padding: 30\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          flexDirection: \"column\",\n          height: 210,\n          width: 500\n        }}\n      >\n        <Typography>{type}</Typography>\n        <TextField\n          variant=\"outlined\"\n          placeholder=\"name\"\n          label=\"name\"\n          onChange={e => setName(e.target.value)}\n          value={name}\n        />\n        <TextField\n          variant=\"outlined\"\n          placeholder=\"password\"\n          label=\"password\"\n          onChange={e => setPass(e.target.value)}\n          value={pass}\n        />\n        <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\n          <Button\n            onClick={() => {\n              if (name && pass) {\n                onSubmit(name, pass);\n                setName(\"\");\n                setPass(\"\");\n              }\n            }}\n          >\n            {type}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AccoutFormMol;\n","import gql from \"graphql-tag\";\nimport GraphQLClient from \"../client\";\nimport { User } from \"../generated/graphql\";\n\nclass UserWebApi {\n  private graphqlClient: GraphQLClient = new GraphQLClient();\n\n  getMe = async (obj: { name: string; password: string }) => {\n    let result: any;\n\n    try {\n      result = await this.graphqlClient.query(\n        gql`\n          query getUser {\n            getUser(input: { name: \"${obj.name}\", password: \"${\n          obj.password\n        }\" }) {\n              token\n              code\n              name\n            }\n          }\n        `\n      );\n    } catch (err) {\n      throw err;\n    }\n\n    if (result.getUser) {\n      const user = result.getUser as User;\n      return {\n        token: user.token,\n        code: user.code,\n        name: user.name\n      };\n    }\n\n    return undefined;\n  };\n}\n\nexport default UserWebApi;\n","import React, { FunctionComponent, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport AccoutFormMol from \"../../../components/molecules/accountForm\";\nimport { doLogin } from \"../../../modules/user\";\nimport { Dispatch } from \"redux\";\nimport { History } from \"history\";\nimport { withRouter } from \"react-router-dom\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport UserWebApi from \"../../../graphql/api/login\";\n\ninterface Props {\n  dispatch: Dispatch;\n  history: History;\n}\n\nconst LoginOrg: FunctionComponent<Props> = ({ history, dispatch }) => {\n  const api = new UserWebApi();\n\n  const { loading, fetch, error } = useApi(api.getMe);\n\n  return (\n    <div>\n      {error && <p>error</p>}\n      <AccoutFormMol\n        type=\"login\"\n        onSubmit={async (name, password) => {\n          if (!loading) {\n            const res = await fetch({ name, password });\n            if (res) {\n              console.log(\"success\", { res });\n              dispatch(doLogin(res.name, res.token, res.code));\n              history.push(\"/\");\n            }\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport default withRouter(connect(() => {\n  return {};\n})(LoginOrg) as any);\n","import React, { FunctionComponent } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport LoginOrg from \"../organisms/login\";\nimport { Button } from \"@material-ui/core\";\nimport { History } from \"history\";\n\nconst Login: FunctionComponent<{ history: History }> = ({ history }) => {\n  return (\n    <div\n      style={{\n        height: \"95vh\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <div style={{ maxWidth: \"90%\" }}>\n        <LoginOrg />\n        <Button onClick={() => history.push(\"/signup\")}>sign up</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Login as any);\n","import gql from \"graphql-tag\";\nimport GraphQLClient from \"../client\";\nimport { User } from \"../generated/graphql\";\n\nconst graphqlClient: GraphQLClient = new GraphQLClient();\n\nconst signUpApi = async (obj: { name: string; password: string }) => {\n  let result: any;\n\n  try {\n    result = await graphqlClient.query(\n      gql`\n        mutation createUser {\n          createUser(input: { name: \"${obj.name}\", password: \"${\n        obj.password\n      }\" }) {\n            code\n            token\n            name\n          }\n        }\n      `\n    );\n  } catch (err) {\n    throw err;\n  }\n\n  if (result && result.createUser) {\n    const user = result.createUser as User;\n    return {\n      token: user.token,\n      code: user.code,\n      name: user.name\n    };\n  }\n\n  return undefined;\n};\n\nexport default signUpApi;\n","import React, { FunctionComponent, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport AccoutFormMol from \"../../../components/molecules/accountForm\";\nimport { doLogin } from \"../../../modules/user\";\nimport { Dispatch } from \"redux\";\nimport { History } from \"history\";\nimport { withRouter } from \"react-router\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport signUpApi from \"../../../graphql/api/signup\";\n\ninterface Props {\n  dispatch: Dispatch;\n  history: History;\n}\n\nconst SignupOrg: FunctionComponent<Props> = ({ dispatch, history }) => {\n  const { loading, fetch, error } = useApi(signUpApi);\n  return (\n    <div>\n      {error && <p>error</p>}\n      <AccoutFormMol\n        type=\"signup\"\n        onSubmit={async (name, password) => {\n          if (!loading) {\n            const res = await fetch({ name, password });\n            if (res) {\n              console.log(\"success\", { res });\n              dispatch(doLogin(res.name, res.token, res.code));\n              history.push(\"/\");\n            }\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport default withRouter(connect(() => {\n  return {};\n})(SignupOrg) as any);\n","import React, { FunctionComponent } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport SignupOrg from \"../organisms/signup\";\nimport { Button } from \"@material-ui/core\";\nimport { History } from \"history\";\n\nconst Signup: FunctionComponent<{ history: History }> = ({ history }) => {\n  return (\n    <div\n      style={{\n        height: \"95vh\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <div style={{ maxWidth: \"90%\" }}>\n        <SignupOrg />\n        <Button onClick={() => history.push(\"/login\")}>login</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(Signup as any);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./containers/pages/home\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport createStore from \"./modules/createStore\";\nimport Login from \"./containers/pages/Login\";\nimport Signup from \"./containers/pages/Signup\";\n\nconst { store } = createStore();\n\nasync function main() {\n  // await loadPersist(store);\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <HashRouter>\n        <div>\n          <Route exact path=\"/\" component={App} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/signup\" component={Signup} />\n        </div>\n      </HashRouter>\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n\n  if (process.env.NODE_ENV === \"production\") {\n    //serviceWorker.register()\n    serviceWorker.unregister();\n  } else {\n    serviceWorker.unregister();\n  }\n}\n\nmain();\n"],"sourceRoot":""}